# Transcript
## Transcript by SuperWhisper
````transcript
Когда подключаешься и кто-то записывает, он выкидывает сначала и предлагает переприсоединиться.

Ясно.

Привет.

Так, слушай, ну а что, как это идет времени, видишь, оно не заводится. То есть там на сервере я сейчас логи раскопал, агент запускал не в докере, а с дотнетом, часть поставил на сервере, должно все по кнопке запускаться, отшлифованное, иначе это база, без этого никуда.

Ну, я понимаю, что так надо, но еще раз смотри, у нас осталось 20 дней, а тут работать еще работать.

Да, но понимаешь, что база, что если она не будет по кнопке запускаться нормально и будет все время какая-то магия, это...

Ну, сейчас это не надо, я не знаю, я понимаю, что это база, но как будто один раз подняли и спасибо на этом.

Ну вот сейчас постоянно... ну у тебя работает, вот у меня локально не работает до сих пор, сейчас я последние штрихи связываю с K-клог, у меня запустилась Swagger и фронт выдавал ошибку, вот этот Shade UI. Доставил пакетов, теперь падает, короче, и по M2, вот сейчас я поправлю, но надо, чтобы и фронты в докерах просто поднимались и все, и по кнопке это можно было на любое окружение. Ну, надо полдня потратить день, но типа без этого никак.

Вот. По поводу того, что сделал агент, ну сделал фигню, короче, надо маленькими кусочками делать. Ну, в смысле фигню там написал доки, написал тесты, но как таковых методов он особо не сделал.

Вот.

Я это уже понял, я все осматриваю глазами, типа, и сразу тестирую, типа, поэтому у меня как бы нет такого, что он там что-то не сделал.

А ты сейчас какие, типа, делаешь, говоришь, две задачи большие?

У меня сейчас KYC на паузе, это огромная задача, потому что там нет данных от Насти, жду, все. Потом делать две огромных задачи, это выпуски, весь flow вообще. Ну, типа, создать, посмотреть, увидеть на бэкенде, сделать approve, reject и вот это вот все. И вторая огромная задача, это круды по пользователям.

Ты имеешь в виду, что типа, регистрация, create?

Ну, полный ход пользователя, ну, ну, да.

А какие поля?

А какие поля?

Ага, давай пошарю.

Так, давай пошарю экранчик, чтобы было вообще...

Так, куда мы браузер длился. Так...

Раз.

Раз.

Ааа, ты имеешь в виду, файлик какой-то схемы есть в KYC или что? То есть, по каким полям? Ты же по каким-то спекам делаешь или как ты это делаешь?

По своей голове, каким спекам? Нет у них никаких спеков. Там Identity сервис вообще не описан.

Но артефакты твои будут в итоге это во фронте кусочки, нам же надо по факту какое-то место.

Это будет малоценный сервис описанный. Отдельный на бэкенде, отдельный на фронтенде, я все хуже.

У тебя есть Keycloak, да? Там уже есть все реализованные задачи. Но кто-то должен ходить в этот Keycloak. Вот я пишу сервис отдельный на бэкенде, который будет ходить сюда.

Update, Delete, Read и так далее. Плюс еще нужно поднять отдельную базу с этими артефактами юзеров. То есть у нас есть юзеры и эмитенты, у которых там нужна быть компания и так далее. Есть еще инвесторы, у которых там тоже куча данных. ИНН, ОГРН, прописки и так далее. Это отдельное все.

И вот сейчас пишу вот этот сервис. Все четыре диаграммы у тебя его по идее нет, потому что он есть, там где-то просто заглушка, что типа Identity сервис где-то должен существовать.

Ну смотри, да, давай посмотрим типа его сервис.

Да, вот он Identity.

Ты его пишешь?

Да, он пустой здесь абсолютно.

Хорошо, давай теперь еще посмотрим контракт.

Ну контракт я облечу, ясен пень.

Пишу тут админ типа в контракте Identity, да, прописываю админ.

Ты приводишь его в соответствие с Keycloak, возможно, если вообще нет.

Ну Keycloak, возможно, плюс расширение по ролям.

А ты же в курсе, что получается у Keycloak, давай вот SCIM API.

Keycloak есть, но там типа поля, имя, фамилия и так далее.

Ну а посмотрим вместе сейчас, потому что...

Ну я запускал research, поэтому...

А что тут research, по идее, надо посмотреть этим? С глазками? Можно создать, наверное, любое поле? Нет?

Нет, не получится тебе в любое поле создать. А как ты паспорт туда пихнешь, как ты пихнешь там всякие документы эмитента, там какое-нибудь соглашение, акционер...

Нет, ну я имею в виду, ты сделаешь create, field, type, file и name какой-то. Давай сейчас посмотрим...

Да это полная ерунда. Зачем нам это все в Keycloak хранить? Типа, чтобы что?

Ну хорошо, согласен, не нужно в Keycloak хранить.

Ну типа у нас есть PostgreSQL супербыстрая, которая масштабируемая, и ну зачем нам Keycloak тут.

В Keycloak авторизации и все.

Ну согласен, да? Согласен. Но роли, смотри...

В Keycloak прописываю 5 ролей.

Подожди, но Keycloak по идее должен... Я почему за это поле захватился? Потому что Keycloak по идее должен менеджить роли все равно. Он же для этого сделан...

Ну понятно, да. Я в Keycloak менеджу роли.

И ты это в контракте все прописываешь?

Да.

Ты сейчас уже пушил, да?

Нет. Все локально. Только сегодня начал. Еще дня два надо, чтобы это делать.

Угу.

KYC запаузил, делаю Identity.

Получается, я тогда сейчас локально подниму, чтобы без магии...

Ну нам жестко не хватает CI/CD с покрытием тестами, потому что у меня тесты локально не запускаются, они объемные.

И привести тесты в порядок, потому что там я сейчас нашел кучу папок с какими-то тестами, которые ты наплодил. Или не ты, не знаю кто?

Давай сейчас.

Там типа вот корни E2E, потом есть папка Tests, потом еще какие-то тесты непонятные. Там тесты, которые я пишу. Это все полная ерунда.

Сейчас, давай посмотрим, что мы понимаем. Есть вот это, которое мы обсуждали. А, вот еще E2E папка.

А, видишь? И тут она в обратную сторону теперь, ну типа, ну ты понял, да? Сервис отдельно внутри E2E, а у тебя там есть E2E и по сервисам. Ну короче, они взаимоисключающие папки. И потом еще есть в apps каждый отдельно E2E.

Ну это твои или?

Да. Ну точнее нет, мои E2E еще нет. Мои есть только юниты.

А давай зайдем в твои какие-то, я что-то вот везде вижу пусто.

Ну ты в src заходи, там надо искать тесты. Я не помню, какой. Ну это же типа это mocks, там эти, smoke, юниты и так далее. Надо искать конкретный компонент.

Не, ну давай, ну у тебя же папка тоже, наверное, отдельная под тесты или?

Нет, нет. Ну всякие эти тесты кладутся рядом с компонентами.

Ну юниты, да, окей.

Ты только юниты или ты пишешь integration?

Ну пока, пока да, я еще вообще тесты не трогал особо. Где-то там какие-то отдельные тесты там пролетают. Я не помню, где они сейчас там, чтобы их найти. И пишу тесты для бэкенда то же самое. Вот там вот в бэкенде можешь зайти, в бэкенде, наверное, будет точно видно.

Давай.

Зайди в сервис, знаешь какой. Зайди в такой Compliance.

Compliance. Вот, вот видишь? Вот я создал папочку тесты.

Подожди, не вижу.

В Compliance.

В Compliance.

Да, и вторая папка сверху.

А, на C начинается. А разве ты стандарты .NET или почему так?

Ну я так понимаю, да. Я в .NET не шарю. В последний раз на .NET, знаешь, когда я писал, в университете.

А я никогда.

Ну вот.

Окей.

Так.

Хорошо. И ты сейчас, я видел, ты типа сделал, хорошо, что я типа отсортировал, кстати удобно сортировать вот такой запросик и то же самое. Получается это А. И Александр это О. А ты типа просто веточку сделал там что-то сделал и смерженную, да?

Да.

А ты теперь не смерженную, да?

К сожалению, мне пока свой комп я не могу по Git Tower 3 делать, совершенно не тянет, поэтому все в одной ветке работаю, а потом уже мержу.

А сейчас вот ветка, в которой ты работаешь, она запущена, как называется?

Нет, я только утром создал, они лучше не надо там сейчас всякий хаос, надо привести его порядок.

А смотри, что еще хотел показать, согласовать скорее. Так, есть битва стрелить, это я сейчас вообще довольно 2 сделал для его там смотрю, потому что так это что это у нас это короче backup перед мержем, да?

Вот я, например, сейчас сюда перейду, это я просто столкнулся, когда было 600 веток в другом проекте, я думал архив как-то долго писать, как будто более по смыслу, и короче вот так вот я делаю, короче.

Ну ты можешь просто прописать правила, кстати, и .gitignore файла нету, я хотел спросить, типа ты удалил или его и не было никогда?

Я запускаюсь чуть чуть выше из своей типа монорепо условно говоря, где я еще какие-то файлики храню, чтобы короче мусор.

Надо сделать общий .gitignore, потому что у меня тут есть расхождение по коммитам, всякая ерунда по-разному, типа я использую же разные IDE, они по-разному коммитят там и так далее.

Знаешь, как я делаю, смотри. Ну давай сейчас я завершу. Смотри, есть ветки, которые сейчас не нужны, я взял одну ветку, я ее затегнул, пушнул, я ее короче удалил. Ну в ветке, которые хорошо было бы сохранить, например, чтобы если ну вот сюда, но текущие состояние надо вообще все порезать и оставить develop, stage, main и все.

Ну по-нормальному, да, да, да, да, я согласен.

Вот я сейчас, например, мне просто не нравится состояние.

Аудио добавили отличный plan mode, вообще классно работает, типа когда понимаешь и задача огромная, он в plan mode переходит и делает ее, а Codex этот начинает мне голову дурить, что типа я не могу сделать такую большую задачу, дай мне по шагам, заколебал меня уже.

Так ну короче, да, вот я имею идея, что я просто zip, я сейчас поудаляю, оставлю грубо говоря твою в эту работу.

Ну смысл, я говорю, оставлю, да, вот сейчас ветки только минимально допустимое количество, чтобы инфра это Саше останется, раз он туда кидает, main, develop еще может быть одна моя, одна твоя и stage надо сделать.

Stage надо сделать, да, давай сделаем develop, stage, main. Stage это ветка для демо, после демо и stage переходит main, типа все собираем вот словно 20 там какого-то декабря демо, собираем в stage ветки и потом уже нас этого.

Хорошо, ты можешь запушить свою ветку? Я просто мне так типа я как будто конкретики у меня маска цепляться, полистаю, потом если будет время, может не дойду, ну в конце дня пушну.

Сейчас там она ничего даже не соберется, там сейчас аврал полный, десятка камера два, если что попозже созвонимся.

С 3 у меня доделал ген, сейчас я смотрю chunks сделал и моя ближайшая цель до короче на GitLab поднять, ну поднять, да, потом все тесты на CI/CD.

Можно записать себе задачи, которые прям реально важны до 5 CI/CD нормально нас вести тесты в какой-то pipeline адекватный, потому что типа получается, ну если мы что-то делаем, непонятно там где чем может отвалиться, потому что тестов нет.

Ну и потом агентов запустить, чтобы они покрыли все тестами, но не overhead, то есть тоже тебе нужно будет делать.

Я хочу, не знаю, плюс на 3 вообще там проблема с базами данных, непонятно там что на месяц один, одна большая схема, но я не знаю, надо это обсуждать и по будем ли мы одну схему.

Ой там где-то в архитектуре что-то там.

Ну вот да, я про это говорю, что у нас куча микросервисов, если тебе будет ходить в одну базу, это масштабировать короче, да.

Ну получается как будто переделать, ну короче сделать там на самом деле документация норм, типа как он сделал, продумал, типа окей, верхний уровень, а там прям хорошо сделано, какие-то моменты просто понятно, что вглубь только смотришь, там просто ничего нет и все.

Да, да, ну то есть типа есть overview верхний уровня и все, и типа надо просто идти внутрь, ничего не сделаешь.

Ну третья напиши low базы данных вообще, типа просто в проекте структурировать, потому что у меня тут сейчас базы данных не применяют, поднимаются что-то идут непонятно куда.

Да, сейчас еще напишу в раб фронтенде дело, потом CI/CD.

The Beast.

Та он получается, когда Ain't ты зацеп, а ну chain ты забыл написать свои задачи, но это не потом, наверное.

Вот перед базами данных надо блокчейн поднять, потому что там вообще ничего не сделано.

Ну и типа я так мы обсудим это еще с Юрой сегодня, но как будто такая задача, которая прям красиво можно не показать на демке, ты понимаешь, я CI/CD там database схемы мы не можем показать.

Хорошо, все, давай тогда на связи, сейчас я надо поднять.

Пока сюда написал, надо подумать куда это писать, как будто это вот типа в Telegram группы в Yougile-task-manager как будто не сильно удобно, это лишние какой-то выходят детали, в GitLab типа нормально, но как будто там никто не не так что не будет.

В GitLab только код и хватит на этом, у меня это кто-то, куда что, давай в Telegram просто и все, мы пока там втроем нормально.

Можно, можно, может просто скинуть сейчас артефакт в Telegram, что вот обсуждали с тобой на звонке, вот такие прелестные у нас.

Ну да, да, все, ладно, давай на связи.
````

## Part 2 later
````transcript
Так, это не особая проблема. Ну ты понимаешь, как Nax работает? Он по сути собирает всё в билд, и потом ты уже в Watch обновляешь этот билд и смотришь. Если у тебя какая-то хреновина закешировалась, то она не будет падать у тебя на новой сборке. Ну, типа, если я сейчас переподниму у себя, у меня не будет такой ошибки.

А у меня...

А, может быть, у тебя какая-нибудь хрень не собралась. Типа SDK или ещё что-то. Типа он, видишь, он expected, он не находит какую-то переменную. Она может быть из какой-то SDK, типа из нашей, например, UI shared.

Так, а давай сейчас чуть-чуть по коду.

Ну, у нас есть SDK. Это штука, короче, откуда тянутся все общие стили. Называется папка apps.ui.shared.

А какой командой ты её билдишь? Она есть в докере?

Да, она есть в докере. Я, по крайней мере, добавлял её туда.

Да, вот.

В докере из apps или нет?

Вот, она shared UI. Видишь папку?

Да, я её вижу. Нет, я имею в виду вот в этом файлике докер, например, вот issue. Или что? Или где?

Нет, он глобальным где-то должен быть. В глобальном докере, по идее. Зачем его в локальном?

Ну, ты сказал в докере.

Ну да, в глобальном.

Ну, у нас нет глобального докера. У нас есть докер композер.

Ну, композер, естественно.

Нет.

Shared должно же быть, да? Название.

Я не помню, как он собирается. Там какой-то скрипт должен быть, что-то такое.

Что?

Там есть Turbo Repo в конфигах, которая, типа, собирает эту хрень и делает watch по надмодулем. А куда она запихнута, я не помню. Сейчас я посмотрю.

Потому что...

Быстрее так, нестейше, чем...

Закрещение.

Так.

Только спроси, UI, собран shared UI или нет?

Ну, сейчас спрошу. Так, где он? А, вон он. Давай посмотрим.

Докер композер YML. Есть такой?

Так, вот есть докер.

Вон, видишь, он у тебя...

Ну вот.

Он есть.

Ну да, всё правильно. В локальных, вот оно, видишь. В каждом докер-файлике.

А докер композер нету? Или где-то увидел?

Ага.

Да, нету, я уже вижу.

Просто сейчас, ну, бывает дольше. Всё равно сейчас надо, чтобы удалось самому видеть всё. Так, какой у меня ещё был вопрос. Ладно, в принципе, я понял глобальный ответ, что типа там что-то...

А, ещё вот этот build SDK получается.

Да, SDK — это тоже API-клиент. Он, по идее, в тех же докерах должен быть.

А, в докерах фронтенда?

Он тоже к фронту относится. Да, SDK — это фронтендовская штука, чисто.

Ну, давай.

Да, я понимаю.

Ещё вот этот билдить SDK получается.

Да, SDK — это тоже API-клиент. Он, по идее, в тех же докерах должен быть.

В докерах?

Он тоже относится. SDK — это фронтендовская штука, чисто. Эта штука для общения.

Да, я понимаю. Смотри, вон он же внизу у тебя, SDK.

Да, он вытаскивает просто. Эта штука она после билда просто собирается, типа, и всё. Ничего не делать, просто, типа, знаешь. Так, оставил все варианты посмотреть с макетом, с такой, типа, фронт. Но опять же, SDK — это не бэк, к бэку вообще не относится.

SDK — это из бэка?

SDK — это штука-обёртка для API. Но смотри, что он получается. SDK, он же должен из бэка подтягиваться?

Нет, чего?

То есть, пакета разработчик, зайди в него.

Зайди в него.

Вот я в нём.

Ну, но никакого отношения к бэку не имеет. Они ещё не связаны.

Ну, логически связано на разработке.

Ну, я не знаю. У нас нет разделения, кто его там делать, не понятно. Ну, типа, гипотетически получается бэкенд сделать на бэке и пошёл. Короче, сделал в таком файле, типа. Посмотри просто структуру ответов API. Она даже может быть завязана на OpenAPI. И в идеале, конечно, я к этому, типа, и говорю, что это не должно быть, знаешь.

Понял. Цепочка там делать в трёх местах. По идее, оно должно быть по цепочке у нас.

Ну, по идее, да.

Ну, пока что, короче, это не... Хорошо, SDK билдится, эта штука билдится. Я иду смотреть, чинить всё, приводить так, чтобы по кнопке как-то это было более надёжно, везде поднималось.

Давай.
````