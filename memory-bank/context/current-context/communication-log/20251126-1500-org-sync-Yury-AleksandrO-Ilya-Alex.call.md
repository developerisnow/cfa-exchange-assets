

# Transcription
## Superwhisper
 Получается, сформировано 12 эпиков, 42 stories. Эпики более технические, stories настолько. Поэтому мы сделали визуализацию всего этого. И сейчас хотели бы обсудить эту визуализацию, чтобы слить техническое понимание и бизнес-логику в одно.

По поводу того, как представляется возможным оценить эти 43 stories. Каждую story можно дробить на какое-то количество задач. Причём просто их раздробить иногда невозможно. Нужно сначала допроектировать, какие будут сущности в базе, какие будут схемы и так далее. И эта оценка занимает долгое время.

Поэтому по итогу нашего звонка мы решили, что лучше нарисовать от пользовательской истории, которую мы видим, и двигаться участками по 3-5 дней и сверяться, как двигаемся. Потому что даже оценка всего этого — не оценка как таковая. Это по сути допроектирование уже реальной системы. И это не будет быстро. Не знаю, сколько это может занять, может и неделю.

Поэтому моя цель звонка, которую мы втроём обсудили, — объяснить то, что я сейчас проговорил, и более детально посмотреть схемы, что это получается. Дать какие-то корректировки. То есть мы синхронизируем vision.

Те картинки, все иллюстрации, которые сейчас нарисованы, основываются на документах, которые Саша, эпиках, которые я сейчас показывал. Эпик-история из Git. Ну или этот документ тоже в Git. Чего тут нет? Нет схемы из Miro. Но в целом это тот же Miro. И даже уже чуть-чуть, может быть, каких-то элементов проработано больше. Мы ещё достигнемся.

На этом пока делаю паузу, чтобы получить обратную связь. Может быть, меня дополнят Александр и я.

Да, я хотел бы Александра услышать, а потом уже вопросы.

Ну да, то есть мы вчера в итоге добили там до вечера 12 эпиков. Ну как я в принципе вчера была озвучена, что по объёму здесь на две трети объёма больше, чем просто выпуск ЦФА. Мы начали уже, то есть сегодня мы втроём собирались, и мы уже грумили, открывали. Ну мы открыли ЦФА капитал, то что Антаркс инка личный кабинет, где там терминал торговый.

Ну мы пока решили хотя бы по-простому делать, но тут вопрос, что книга заявок должна быть, получается, ну, order тот же, ну, по сути, потом стакан оттуда строится. Проговорили, то есть первичную продажу, то есть когда эмитент передаёт, соответственно, права, там уже частично и полностью на владение ЦФА там инвесторам. Ну вот это, собственно, мы проработали, ну то есть проговорили. Саша вот сейчас это всё оформил диаграммой, чтобы уже визуализировано это всё представлять.

Как вы пришли к такому количеству именно историй?

Ну это как сказать, как пришли? По бизнес-требованиям, то есть там, ну условно, есть там регистрация, есть каталог, например. То есть там надо видеть тот же самый. То есть когда ты видишь каталог, ты должен видеть карточку, условно, ЦФА и так далее. То есть там, в принципе, ну ничего там лишнего нет вообще. То есть там, если что-то убрать, там какие-то вещи есть, там условно, там подача жалоб. Ну их там, да, мы в принципе здесь и сейчас и не видим, там про подачу жалоб.

Да, я к тому, что не может оказаться, что вы что-то забыли. Вот я в этом смысле спрашиваю.

Гипотетически, вот опять же, мы берём, если, ну, каталог какой-то или выпуск тоже, вроде, по поверхности, вроде понятно. Да, но там глубину вот первая продажа, она понятна. А вот если, например, исполнение через исполнение на вторичном рынке, когда там условно несколько владельцев, как там частичное закрытие ордера на покупку, там уже много всяких особенностей есть. И там эти особенности ещё заключаются в том, что тебе нужно ещё в DLT это всё регистрировать правильно.

Что значит, это мордочка весёлая или невесёлая?

В данном случае это просто регулироваться, наверное, можно. Это я с помощью AI рисовал это. Наверное, какой-то параметр, вот можно поменять цифркой, там. Весёлость, наверное, от одного, вот я сейчас смотрю, как это работает. От одного до пяти, наверное, можно везде счастье повесить. Можно не везде, мы можем договориться.

Что оно означает? Это счастье что имеет в виду?

Это policy, например, ну, Scrum, как строить user story. Я, честно говоря, не знаю, но предполагаю, может быть, сложность мы можем сюда. Я думаю, это сложность. Обычно сложность это обозначает.

Хорошо, а мы можем в одну из user story нырнуть внутрь? Вот, например, эмитент создаёт выпуск ЦФА и... Или что вот как... Тут я вижу квадратик, полосочка и мордочка, и всё, и больше я ничего не вижу. Выглядит очень замечательно, круто и умно, но ничего не понятно.

Давайте, да. Вообще сейчас мы... Ну вот, если в user story, то... Вот они здесь есть.

Да, открой, у тебя же там были диаграммы взаимодействия. У тебя была нормальная... Ну, там, процессу открой, там, в принципе, будет видно.

Хорошо, давайте, наверное, вот... Есть сквозной... Предлагаем сейчас сквозного. Это как бы почти самый большой flow, но он более детальный.

Ого! А есть ещё более детальный, прямо зумом уже в какой-то процесс. Но это как бы... Давайте вот по sequence пойдём. Вот, видно нормально или приблизить?

Сейчас подожди секундочку, сейчас я скажу. Так, ну вот, да, это уже интересно. Давай здесь пробежимся.

И ещё сразу вопрос. Сразу вопрос. Смотрите. Вот есть полосочка регистрация и вход. Я правильно понимаю, что в других user story тоже может быть регистрация и вход? И если мы один раз сделаем эту процедуру, этот пазлик, то все другие user story мы его подпихивать будем уже готовы. Мы же не будем каждый раз его переписывать.

Ну, естественно.

Вот. Это я вчера, кстати, об этом говорил, про переиспользование всяких... А у нас будет какая-то библиотека, альманах или ещё что-то всех уже имеющихся пазликов, чтобы мы могли в будущем понимать, соответственно, что есть, чтобы мы не переделывали там что-то и могли дальше понимать сложность реализации того или иного улучшения.

Ну, в идеале это как бы один файлик, вот один атом какой-то, и трассировка, и cross-reference на них, типа, условно говоря, как... Ну, мы сейчас видим диаграмму, но если, типа, user, то есть регистры, я вот это, типа, пишу, как, типа, таким вот ссылкой туда кликаю, там, это user story, там, before...

А можешь всё то же самое объяснить, но человеческим языком? Я же про альманах спрашивал, а ты что-то сказал умно, что ничего не понятно.

Ну, я имел в виду просто, ну, как бы, с cross-ссылками, как Википедия, да?

А вот что ты имел в виду... Да-да-да-да, типа Википедии, да-да-да-да.

Альманах, что ты имел в виду?

Альманах — это такая книга, где можно листать, и там всё-всё вообще всё про всё. Википедия, да.

Ну, я просто уже при моём рождении не был, я... Так, я не знаю. Ну, да, имеется в виду ссылками. Ну, это выглядит... Вот я сейчас покажу, ну, в GitHub мы просто открыли страничку, и... Ну, будем структурировать, это как любой технический part. Вот у нас, вот видишь, есть файлики, только может быть название, чуть-чуть ещё дефис одним-двумя словами, суть, да. И, как бы, когда внутри этого файлика мы пишем, ну, типа, если мы имеем в виду что-то, то... Есть принцип "do not repeat yourself" в коде, да, там, или "single source of truth".

Да.

Ну, я за это, ну, потому что дубли — это как бы... Всё хорошо, да, спасибо, понял.

Так, итак, вот наш user story. Регистрация, вход, показ статуса...

Извиняюсь за дотошность, но это типа sequence-диаграмма, чтобы в одном экране посмотреть.

Это, это скорее вообще весь путь, чтобы можно делать в системе очень high-level. Это, ну, тихо, но просто по шагам, чтобы можно было слева направо сверху вниз. Это sequence-диаграмма, визуализация.

Да.

Да. Открываем каталог, команда на списание, блокировку. Команда зафиксировать права подтверждения. Ну, слушайте...

А можно тогда по стрелочкам? А можно по стрелочкам? А то ты куда-то перепрыгнул. Вот стрелочка.

Давайте я буду вот регистрацией, вход, бум. Я инвестор, кто? Actor. Куда? На портал. Сюда пришёл. Следующее, что я тут сделал? Передал и в стенке эти документы. Куда? В back-office и backend service compliance. Дальше он меня одобрил, типа обратная связь, да? Дальше в портал инвестора. Портал инвестора показал мне. Дальше я иду, это прямо high-level, открываю каталог, выбираю выпуск, хочу там выпустить. Дальше это с портал инвестора обращается к порталу эмитента.

Получается, вот тут может не идеально нарисовано, вот это как бы zero shot с первого раза, условно говоря, в беглой проверке, насколько можно было. Тут может можно ещё дописать, но грубо говоря, суть типа ясна, что дальше к backend-системе эмитента обращается, дальше опять этот инвестор вводит сумму на заявку и покупку, идёт дальше запрос опять. Это должно же провериться кем-то, то есть compliance backend-сервисом. Тут вот в одном сервисе AI сделала как бы два сервиса. Это с внутренней backend-админка, backend-office, даже как бы front-back и ещё отдельный compliance-back, ну или они связаны, посмотрим как это будет.

Но суть такая, что да, вот проверяется, можно ли там, ему лимиты позволяют. Разрешено всё, разрешено. Дальше идёт запрос в банк, если баланса достаточно, достаточно. Дальше идёт запрос как бы в реестр прав и DLT. DLT для меня...

В дополнение есть денег там и вывод, да?

Сейчас не нарисовано в этой сфере конкретно.

А почему и когда оно появится?

Давай всё обмотаем. Нам нужен банк, чтобы отменять, что там происходит.

Ну типа хотя бы какие-то начальные настройки, чтобы нарисовать нормальную схему. Потому что у нас пока вопрос, как депозиты, ну типа у нас нет же такого понятия, как депозит. Мы внутри банка должны создавать какой-то entity под каждого эмитента, под каждого инвестора, чтобы это всё нарисовать.

Я объяснил, что нам нужно. Нам нужно иметь систему лицевых счетов у себя учитывать. У нас, грубо говоря, будет один большой жирный счёт, escrow. А может быть даже не escrow, а как он там называется? Сейчас я скажу, подождите. Он называется... То ли trusty, это английское название, а у него всё-таки на русском. Я вспомню и скажу.

Смысл такой, что это номинальный счёт. Вот. И, например, на нём могут лежать деньги 100 клиентов. Но мы ими не можем распоряжаться. Это не наши деньги. Они там все смешаны в кучу. Но у нас ведётся какой-то реестр в системе, где мы знаем, что вот эта часть денежки Васина, Петина, Машина и так далее.

Идея, в идеале, наверное, хорошо бы эту информацию о том, сколько, где, чьих денег хранить бы в блокчейне вообще, наверное, было бы неплохо в нашем. Ну и плюс, естественно, в нашей какой-то базе.

Если мы будем каждую транзакцию писать в блокчейн, надо уже думать о том, каких размеров блокчейн будет, как эти ноды смогут поддерживаться. Потому что там всё это нужно.

А нам не нужно думать об этом. Мы уже выбрали блокчейн. Это Fabric. Где-то хранится всё равно. Я имею в виду про сервера и так далее, что это всё нужно ещё тоже проектировать.

Ну вот, например, блокчейн Эфира, в котором миллиарды сделок, занимает 200-300 гигабайт. То есть там…

Блокчейн Эфира весит 5 терабайт почти.

Да ладно.

Да, можем проверить очень быстро.

А биткоин?

Биткоин за терабайт уже давно.

Охренеть. Я, значит, очень сильно устарел. Но всё равно терабайт или 5 терабайт – это не настолько страшно. Но там весь мир фигачен. Поэтому я не думаю, что здесь какая-то там слишком сложная будет тема.

5 терабайт – это обычная нода, а активная нода со всеми данными там ещё 20 раз больше.

Ну, слушай, ну, вот то, что ты как бы сейчас сказал в двух предложениях, это тянет, короче, на более. Ну, короче, на большую эту бизнес-логику надо подумать, можно ли её как-то быстро что-то…

Да, то есть нам как минимум нужно учитывать балансы людей, и хорошо бы всё-таки действительно, чтобы это было on-chain. То есть балансы на блокчейне и токены на блокчейне. И как я вчера говорил, то есть мы в момент, когда к нам человек завёл миллион рублей, мы из воздуха, из специального смарт-контракта нашего внутреннего рублёвого, сминтили миллион рублей. Понимаете, да? И ему на его кошелёк зачислили. Всё, они у него там лежат, он доволен, счастлив, хлопает в ладоши.

Соответственно, когда он захотел что-то купить, он уже… Кстати, нам на некоторых платформах приватные ключи лежат у самого клиента. Вот сама платформа даже доступа к ним не имеет. Это, кстати, тоже мысль вслух на всякий случай.

Так вот, дальше он со своим приватным ключом через наш личный кабинет, естественно, даёт команду отправить 500 тысяч своих токенов рублёвых против какого-то там, не знаю, другой ЦФАшки. Этот контракт, соответственно, схлопывает сделку тому человеку, кошельку, у которого есть ЦФАшки, соответственно, ему… Он выступает как таким гарантом. Он ему зачисляет рубли, а с него списывает вот эти ЦФАшки.

То есть, по всей видимости, от них должны висеть какие-то в системе активные ордера или как… Вот это я не знаю, как эта логика должна работать. В блокчейне Graphene мне понятно, потому что там блокчейн, он же равен децентрализованной бирже. То есть, человек внутри блокчейна даёт команду, что я хочу продать, например, какой-нибудь wrapped биткоин, потому что у них вся крипта упаковывается в свои собственные токены. Вот я хочу какой-нибудь wrapped биткоин продать по 120 тысяч, повесил и забыл про эту транзакцию. И потом, когда когда-нибудь она при отсутствии рынка прострелит туда на 3 секунды и потом опять вернётся к цене, всё равно сделка совершилась, прямо всё on-chain. Вот в Graphene это так работает.

Я предлагаю про on-chain биржи и Hyperliquid. Ну, давайте всё-таки к схемам и про депозит.

Да, да, да, возвращаемся, согласен.

Так вот, я же не просто так это говорил. Соответственно, когда у вас там идёт проверка, хватает ли денег, то у нас получается будет двойная проверка. Мы проверим на уровне бизнес-логики, как-то хватает, не хватает. И плюс, когда в блокчейн полетит транзакция, он всё равно не сможет отправить денег больше, чем у него есть. Понимаете, да? Даже если у нас в базу данных какие-то шаловливые ручки хакеров нарисовали человеку 100 тысяч миллиардов рублей, которых он к нам не переводил, когда он эти 100 тысяч миллиардов рублей сделает транзу и положит её в наш блокчейн, ничего не произойдёт, ошибка выйдет, потому что у него их просто нет. Поняли фишку, да?

Вот, это такое было замечание. Ну, а в целом, действительно, конечно, проверять надо. Вот эти все вещи, которые вы прописали, делать надо. Но то, что вы забыли зачисление денег и незачисления, у меня здесь только один вопрос. Что ещё и сколько ещё мы этого забыли? И в какой момент мы это будем вспоминать и дописывать? Это вопрос больше концептуальный.

Ну, тут сейчас концептуально, на самом деле, каждый кусочек прямо системы. Можно очень долго созваниваться и, на самом деле, согласовывать, даже по диаграмме, не то что по пунктам. И я бы, что мы забыли и не забыли, мы узнаем, если вот как бы все основные пазлы соберём.

Цель нашего звонка сейчас как бы high level и, наверное, это будет ещё серия звонков по 6-8 основным, кстати, этапам. Вот у нас тут как раз таки из этой картинки, хоть она и красивая, и, ну, типа, она для этого сделана, чтобы мост наш уловил. Вот есть подключение эмитента, onboarding, публикация, выбор и покупка, владение выплаты, погашение. Тут ещё, может, депозит мы добавим. Мы тут видим раз, два, три, четыре, пять, шесть. И каждый это там можно сейчас... И вот даже...

Саш, у меня был вопрос проще. Я же другое спросил. Я же тебя спросил, сколько ещё мы забыли и когда будем добавлять? А ты целый эпик истории рассказал.

У нас... Мы не забыли этот момент. У нас он просто на стороне банка. То есть у нас лицевые счета, мы считали, что мы упростили систему, так как у нас вообще нет никакого времени там на то, чтобы сложно что-то делать. Мы делали проще, типа, что есть счета в банке и мы там морозим и переводим деньги. То есть переводим с одного счёта на другую. В принципе, то же самое. То есть если мы к себе перетаскиваем ещё в функционал банковский, условно, какой-то, то это ещё, то есть, усложнение.

Это не банковский функционал. Вы должны человеку банально показать, сколько у него есть денег и дать возможность их зачислить и вывести. Создать на вашей стороне рычаги для этого. А делает пусть банк. И вы на эти рычаги пока поставите просто заглушки, но они будут предусмотрены. Я в этом смысле имел в виду.

Ну да, да. Ну, мы, в принципе, думали только, мы думали, что будет блочиться там, то есть в банке на счету.

Да пусть блочится и слава богу, оно и так будет там блочиться. Я имею в виду, что вам нужно сделать дырку в стене и заложить её кирпичами, чтобы потом не... Ну, как бы, чтобы она была уже готова.

Да, да, да. Это понятно.

Вот. А идея в целом... Ну, теперь идея вот эта, что типа поднять какой-то любой токен свой, условно там, НПК-Р какой-то, не знаю, НПК-рубль, условно. И внутри него, и внутри ОИС использовать, чтобы все обращались, ну, условно этим НПК. Ну, то есть это тот же самый ЦФА, по сути, выпускает.

Да. Это первая ЦФА, которую мы выпустим, это типа вот НПК-рубль какой-то.

Абсолютно верно.

Ну, вот. И, собственно, и им могут, и все покупают его, условно, там сначала. И у всех он там становится там тысячи, миллион там у кого-то.

А вот интересно, мы можем один токен менять на другой, не рублёвый? Например, токен зерна на токен золото.

По идее, в ЦФА как бы это вторичный рынок. То есть как-то это типа бартерная система какая-то уже.

Да, да, да. Мы можем или нет? Я просто спрашиваю, закон нам разрешает?

Закон не разрешает покупать, ты можешь только обмениваться, условно.

Не-не-не, обменять, обменять. Уже готовый один на другой можно? Как коллекционер, у меня три значка, а у тебя два, давай меняться.

Обменяться можно, но тут вопрос в отчётности. То есть тут как будто могут это заблочить с точки зрения отмывания денег. Вот. То есть это как будто не прозрачный.

Давайте этот вопрос в Jira поставим Насте и Ире, юристке, проработать.

Да, да.

Боря, отметь, поставьте эту задачу раз, можно ли менять. И второе, а сможем ли мы дробить? Сможем ли мы один ЦФА токен поделить на 8 нулей после запятой?

Ну нет, ты, по идее, ты какое-то количество токенов выпускаешь. Вот. Ну, хотя опять же тут...

Стоп. Биткоин, он один, но у него ещё 8 нулей после запятой. И другие. Здесь тоже это вопрос к законности. Можем или нет? Может ли человек... На всех платформах люди покупают целый токен. Но если нигде не запрещено покупать одну миллионную токена, да и хрен ты с ним, пусть покупают. За одну копейку.

Нет. Токены, они есть на Solana, они абсолютно разные есть. Биткоин, условно, он дробный. Но есть токены, которые выпускают там, условно, 500 миллиардов. Выпустили, и он не дробный. Он там, у тебя по одной штучке. У тебя из 500 миллиардов, условно, там 100 миллионов есть. Вот. И, конечно же, проще работать с целыми числами, чем с дробными. Потому что дробные - это вообще всегда плавающие запятые. Тем более там, где деньги, то есть там всегда обсираются эти с копейками, и ещё что-то там всегда начинает всё нисходиться. Вот. Поэтому, условно, ты там... Понятно, что... Ну, у тебя в любом случае теоретически рубль начнёт дробным становиться. Вот. У тебя нормальный рубль и так дробится до копеек.

Это вообще всегда плавающие запятые, тем более там, где деньги. То есть там всегда обсираются с копейками, и еще что-то там всегда начинает не сходиться. Поэтому условно ты там, понятно, что у тебя в любом случае теоретически рубль начнет дробным становиться.

Ну и нормально, рубль и так дробится до копеек. До копеек — у тебя десятая рубля. Сотая, копейка — это сотая. Сотая рубля, да. Ну, рубаши нету, сатоши рубаши, есть только сотая, да.

Опять же вопрос к обмену между золотом и там картошкой, к их номиналам, потому что не всегда там условно в стакане можно будет перевести как-то. Тут тоже... А нам это не важно, нам это не важно, пусть они сами за курсами следят. 0,8 картошек променяли на 0,008 золота. Вообще красавцы, пожалуйста, торгуйте.

Ну, это тогда какой-то уже P2P-обмен отдельный, а не ордербук. Ну, это и есть система P2P, и там законодательно это все вообще хрупкая вся штука.

Подождите, почему не ордербук? Если мы же будем у себя заводить в системе пары, у нас по умолчанию, я так понимаю, при создании любого ЦФА у нас появится пара ЦФА против рубля. Но если закон нам не запрещает, мы можем завести у себя, как считаете, как залистить. Мы можем у себя залистить дополнительную пару. Например, золотой токен против китайского юаня, также врапнутого, упакованного у нас в ЦФАшку и так далее.

За картошку можем сделать. Чисто, знаете, мы можем даже делать пары фофан. Допустим, с белорусами договориться на картошку, да, и картошку менять, например, на жареную картошку. Картошка по-деревенски, с Макдаком договориться. Один килограмм белорусской картошки на 100 грамм жареной Макдональдса. Ну, короче, вы понимаете, да? То есть чтобы уже бизнес там изгалялся, придумывал всякую чепуху.

Это звучит круто, но оверсложно. А почему сложно-то? Если вы сделаете сущность, что мы можем заводить пару, то дальше уже какие пары и сколько их будет, это уже...

Сложность заключается в том, как тебе исполнять ордер. Потому что ордер он на покупку идет. То есть у нас нет ордера на обмен условно. Нет таких, ну, понятно. И непонятно, как типа...

Подожди, а покупка чем от обмена отличается, дорогой мой человек? Покупка? Она установлена законодательно. Это как сказать? Ты не можешь сказать... Мы сейчас не говорим про законы. Законы мы будем соблюдать. Закон мы чтим. Я сейчас говорю про технику. Технически. Чем технически покупка отличается от обмена у нас?

Ну, технически, как сказать, если так, то в принципе ты прав. Да, ничем не отличается. Но здесь вопрос оценки стоимости покупки или обмена.

Стоимость определяет рынок, сам человек. Нам она не важна. Нам важно, чтобы в стакане висели ордера. И в тот момент, когда они совпадают или перекрываются в режиме предложения с двух сторон, чтобы у нас был какой-то механизм матчинга их. Когда они... Хопочки. Раз — и трейд случился автоматически, когда в стакане они там появились.

Кстати, механизм матчинга, я так понимаю, у нас пока еще не предусмотрен. Это вопрос... Это, знаешь, вот, кстати, к вопросу... Очень была крутая схема, то, что у меня отец занимался. Вот мы разговаривали тогда. Он прям... Это прям... Крыша была, вышка вообще. Это называлось... Как они? Взаимозачеты. Вот. Схемы взаимозачетов.

То есть когда... Мы же можем сюда их засунуть. Да. И вот, кстати, в чем фишка была вообще тогда? И сейчас это можно возродить вот в этой системе. Это было бы вообще там... Вот это реально бы все пошли.

В чем смысл? И, кстати, ЦФА это позволяет. Что, грубо говоря, вот отец как делал? Они... Есть, типа, одно предприятие, оно должно другому там 500 тысяч рублей. Второе должно третьему там еще миллион рублей. Пятое шестому, седьмое восьмому. И все... Вот есть как бы схема. И кто-то налоговой должен там. Налоговая кому-то еще должна. Еще что-то там. Какие-то госзаказы. Вот.

И, в общем, суть в чем? Что второе предприятие производит условно лес. Да. Третье производит мебель. Вот. А налоговой нужна условно мебель. Там. Закупить мебель. Вот. Но она должна там этим. И вот, соответственно, он брал схему, рисовал схему взаимозачета. Вот, в общем, кто кому отдаст, отдаст лес. Тут производит мебель. Мебель отдается налоговой. Налоговая закрывает за счет этого там первому предприятию. И все. Бах. И какое-то чудо происходит. И ни у кого долгов нет. И все рады, короче.

Как в анекдоте, да? Про сто и там про двадцать баксов из заезжего чувака в гостиницу, да? И проститутку. Знаешь, да?

Ну, я, по-моему, да, слышал. Смысл в том, что приехал куда-то на Диком Западе чувак с двадцаткой. Я анекдот не помню, но смысл такой, что он дал деньги этому владельцу гостиницы за то, что он разместится, и пошел шариться. Этот владелец гостиницы отдал долг там этому трактирщику двадцатку. Трактирщик отдал долг проститутке двадцатку. А проститутка пришла и отдала владельцу гостиницы за проживание двадцатку. И этот мужик возвращается такой: «Ой, слушай, ты знаешь, я передумал, жить не буду». И тот ему отдает двадцатку. То есть двадцатка прокрутилась, долгов ни у кого не осталось ни перед кем, понимаешь?

Вот это как вообще работает? Вот. И в чем суть? Если, конечно, такую штуку сделать, это было бы бомба вообще. Потому что я, когда про ЦФА вот эту всю тему изучал, мне самым интересным показалось, да, то, что ты, то, что могут долги, короче, свои приходить и оформлять ЦФА в виде долга. И, соответственно, и другие ЦФА. И вот тут такие схемы взаимозачета можно в автомате.

Со скидкой. Со скидкой. Кто-то готов отгрузить шпингалеты и не знает, куда их деть, и со скидкой на 20% продает долг. Охеренная тема. Эта тема вообще, кстати, она вот умерла когда-то, потому что там тема взаимозачета. Можно вот с отцом пообщаться насчет этого. Он там много может рассказать крутых штук вот этих.

И у меня вот эта идея была тоже. Думаю, блин, взаимозачет можно его... Он же обещал мне материалы и бумаги прислать. Я там его, ну, покритиковал в хорошем смысле, но сказал, что надо пробовать строить бумаги. И он ничего не прислал, никаких бумаг. Я подумал: «Ага, ну, значит, не так ему интересно». Да, там потом это, насчет этого.

Ну, тут вот схема взаимозачетов намного интереснее, вот эта вот тема вообще. Потому что там многие люди ждут этой вообще штуки, чтобы такая система была.

Боря, задачи мы какие ставим Насте с Ирой? Про законность обмена одного на другого? Да, на другого. И про законность, возможность сделать систему взаимозачетов для компаний. Ладно? Ну, в автоматическом режиме. То есть она может помогать.

Да, слышу, я переслушаю и поставлю все. Сейчас не могу. Надо, можно прогнать через ИИшку, но это надо не забыть обязательно, прямо чтобы задачи встали.

Так, хорошо. Ну, соответственно... Соответственно... Да, да. Не-не, ты договори, я потом... Ну, в общем, соответственно, мы, получается, на что нацеливаемся? Да, то есть мы, условно, тот же самый ЦФА создаем свой рублевый и типа меняем. Только здесь вопрос возникает, как будто наша система, она сама и должна... Ну, как бы мы сами для себя являемся инструментом. Вот. Да. Базовым. Да.

И, соответственно, тут только вопрос возникает, ну, типа, ну, та же самая покупка, обмен, условно, та же самая вся книга ордеров. Только мы теперь не только, ну, рубли, условно, там, чисто, да, чисто рубли. А получается, мы одно с другим должны уметь сравнивать. В общем, вот тут надо будет подумать, покопать вот эту штуку.

Короче, давайте в ядро системы заложим технически, чтобы это было — одно на другое менять. По законам мы посмотрим, в любом случае нам это надо. И дальше уже администратор при создании ЦФА или в любой другой момент, чтобы он имел возможность создать пару чего угодно с чем угодно. Ну, там же он и будет с рублем создавать, да, при листинге, но и чего угодно с чем угодно, чтобы тоже мог.

Ну, типа, цифровое право, денежное право базовое, то есть у нас есть разные типы ЦФА. Вот тот рублевый, ну, НПКР, вот этот, например, наш внутренний рублевый ЦФА, это денежное право. То есть в итоге, да, на счету лежат деньги, и любой может прийти с этим ЦФА и сказать: «Ну, давайте мне, короче, вот вам, типа, обратно там 100 тысяч рублей, давайте мне мои 100 тысяч рублей». И мы ему уже выводим 100 тысяч его рублей. Соответственно, он требует, вот.

Короче, Саш, ну, это горе от ума уже началось. Нам не важно, кто там кому что требует. Важно, чтобы мы могли менять что угодно на что угодно. А сверху наложим юридические все ограничения. Давай упростим просто сущность. Ты ее слишком сложную намудрил.

Не, я же говорю про разные типы ЦФА. То есть ты не можешь, условно, ты, ну, условно, там, рублевый ЦФА вот этот, который денежное требование, вот. Ты его на что хочешь можешь поменять. Ну, условно, этот ЦФА можно поменять на что хочешь, потому что он, как бы, за ним закреплен рубль там и оценка. То есть надо все это закреплять. То есть какие-то ЦФА на какие-то, там все равно есть особенности. Там нужно вот здесь...

Если мы эти особенности не будем закладывать в систему, пусть система может менять что угодно на что угодно. Это меньше кодинга будет вам логику определять. А пусть это бизнес определяет. Депозитарий, который сидит на ЦФАшках, пусть они сами там решают, что на что можно, а что нельзя. Завтра закон выйдет, что можно. Или мы попросим ЦБ разрешение нам выдать в режиме экспериментального правового режима. А нихера, только нам разрешат, а ни у кого нет. Пусть она просто будет. Сложности мы, ограничения лучше наложим на бизнес-уровне уже в админке, когда там создается все. Вот.

Да, я согласен. Все, договорились. Поэтому мы при создании ЦФА, естественно, у нас должна быть возможность определить, сколько там будет этих после запятой. И еще какая-то куча других параметров.

Вы мне не ответили на вопрос, когда мы туда добавим рубли. Вот. Но я так понял, что по мере появления проблем мы добавим. Просто я думал, что хорошо бы, чтобы там висели какие-нибудь пути красненькие, да, которые вы не добавили, но про них помните. Вот я бы, не знаю, я бы так сделал. Вы как считаете, надо или пусть так лучше будет, как есть?

Ну, в любом случае, так, там у Саш на руках, Саш. Что ты хотел сказать?

А, да, ну, я хотел, типа, представить. Это такое организационное, что, типа, за 40 минут, если не решили, следующий звонок по НИРу. Вот.

А красненькое, я не против. Тогда надо это... Все, добавляйте красненькое, мне нравится, утверждено. Поехали. Отключаемся, всем хорошего дня.

Ладно. Забоем. Чем-то вам, меру, если на наш ногу за ногу.

Да, давайте регламент временной тоже. При начале встречи проговаривать цель, которую мы должны достичь, и следить за временем. Саша красавчик, чтобы не размазываться по древу. Все, всем хорошего дня.

Сейчас, сейчас, давайте. Или как? Все. Все. Мы все обсудили же, да? Все решили, обсудили.


# Highlights
## After call with ALEX and  Ilya, AleksandrO
Ну я понял, что мы всё равно не финализируем что-то. Да и не понятно, что финализировать и декорировать. Я имею в виду, что декорировать работы больше, чем кажется, и что успеем, то успеем. Примерно эта мысль осталась. Даже если Юрий скажет, что всё, я понимаю, что вы всё не успеете, что я хочу, а потом он скажет, что я хочу.

Ну вроде, вчера он сказал, что понимает, что рабочей системы с 20 числа не будет. Это все понимают. Вчера ещё вечером Борис кинул, там сейчас появилась информация, есть люди, которые уже проходили эти все процедуры.

И что ЦБ, он там не сразу. В общем, это такая процедура, там условно лицензия, придут, посмотрят. Нет такого, что там прям вот вообще всё. Ну вот, это в рабочем режиме всё делается. Они могут дать лицензию и сказать, дорабатывайте условно там. Вот так вот.

Соответственно, может быть, то есть это уже не наши вопросы, это будет и Юра там решать, и команда не техническая, там юристы и всё прочее. Они сейчас выходят на контакт с ЦБ. Соответственно, нам надо просто делать дальше.

У меня единственное предложение, как вы смотрите на то, чтобы сделать источником правды какой-то перечень sequence-диаграмм и по ним всё время идти? Ну типа общая, там зумить сколько-то блоков. А если мы меняем доки, то чтобы не теряться между требованиями, я имею в виду.

Ну, смотри. Источник правды, то есть ты говоришь про use case диаграммы, то есть это проектная документация. То есть, естественно, по ней хорошо ориентироваться, когда ты уже какие-то флоу там прорабатываешь. Ну, то же самое, по покупке условно или ещё. Ты уже видишь целиком картину. Конечно, нужно опираться. У нас просто помимо этого там куча ещё всякой документации есть.

Ну, просто а зачем они нам? Ну типа реальный код фронтенда и бэкенда пишу сейчас только я. Мне эти диаграммы не нужны. Ну типа они только мешать будут, чтобы мне там идеально всё доделывать.

Окей. Ну двигаемся как двигаемся. Я сейчас занимаюсь CI.

Ну, у нас есть куча задач, это типа базу наконец-то спроектировать все базы. Сделать CI. Давайте как-то разделимся, что это правда не один код. Ну, условно понятно, что это сейчас сложно будет, потому что там несколько сервисов затрагивается. Нам бы эту штуку реально там, всю ACD поднять, если мы можем уже пушить нормально. У нас там хотя бы в докерах это всё развёрнуто.

То есть сейчас вот дойти до уровня, когда у нас есть порталы, мы заходим, нажимаем кнопку, запрос улетает на бэк. На бэке там какие-то манипуляции по бизнес-процессам проводятся. Что-то может сразу в Kafka улетает уже. Соответственно, такого уровня. Я подключусь уже сейчас тоже к бэку, буду делать.

Сейчас конкретно я делаю, чтобы тесты у меня локально отрабатывали. И потом это нужно затем, чтобы я их потом, когда CI в эту ветку буду, и они прогонялись. Вот эти все make работают. Вешаю это на GitLab Runner. И чтобы по коммиту в develop это билдилось на сервере и обновлялось из Docker Image, которые в GitLab Registry, а Portainer я подключу там, по нему почитаю. Но это типа такой observability образов.

Ну и сейчас я фронты ещё оборачиваю. Хорошо, давайте тогда текстом на связи, если что, позвонимся. Если мы плотнее будем по фронту. Всё хорошо, давайте.

## Alex Prompt voice notes
У нас был совместный звонок. Хоть мы многое не решили, но много вопросов обсудили. Там также Юрий закинул новых корректив, в частности красненьким выделить, чуть-чуть проработать детальнее процессы, но с должным уровнем абстракции, пока банк не выбран для этого депозита и так далее.

Я хотел бы, чтобы ты внес эти коррективы. Также в целом по звонку стоит выделить все обсужденные requirements. Просто часть из них, которые Юрий закидывал, это условно говоря хотелки, или когда они там уже ушли в авантюру обсуждать между vision или какой-то схемой, которую отец Александра О реализовывал для взаимообменов. А Юрий в итоге вынес финальный requirement в том, что не нужно окладывать на ограничения, а потом условно говоря в админке как-то полухардкодно, бизнесово сделаем. В проектировании.

Я бы хотел, чтобы ты все requirements выделил. Они должны быть нумерованы чекбоксами с иерархией parent-child, sub-child, sub-child и так далее. Сколько нужно, столько и делай. По-профессиональному, как там ты бы еще оформил, может быть definition of done сделал, job to be done и так далее. Это скорее относится к части звонка.

Первая основная часть — это корректировки по Mermaid и финальный Mermaid с новыми, хоть и небольшими вводами. В целом, если резюмировать, мы двигаемся тем же путем, который и планировали между собой в этих Mermaid. Поэтому есть какие-то отличия.

