# Transcription
```transcription
=3m6s=
Слушай, в целом неплохо. Единственное, нужно учитывать, что есть Monorepo, который ты запустил, а в ней через сабмодули репозитории, но по факту всё, конечно, сводится к одному главному репозиторию OIS-CFA. Понятно, что вся разработка и всё остальное будет там происходить, но важно понимать: эта Monorepo — это моя личная, Alex A, да? От OIS-CFA тут я типа по факту, хоть я и такой AI integration engineer, судя по тому, какой мне сейчас этот Александр O. OIS-CFA закинул отчёт, он типа ожидает от меня быть как разработчика.

Мне это немножко посмешило, ну тем, что я всё время в стартапах работал, тут какой-то enterprise. Только я о нём хорошо отозвался, сейчас я привожу, как я для друга отозвался, который когда-то раньше работал с кастомер Юрия, да? И в целом понимает кухню. Ну короче, ладно, что мне, буду слишком ему делать эти отчёты, хуй с ним. То есть такая, как сказать, ещё одна мета работа, что конечно вручную... ну я там прокомментировал, как делать это, вручную не вручную.

Так, почему я говорю? Я говорю, потому что моя монорепа, если документы фигурируют к этой репе, та репа из OIS-CFA, она типа условно team репа, да? Она не должна знать о монорепе моей ничего, её отсылок не должно быть. То есть вот этот подход с манифестами, как у меня сейчас сделан, там people и прочее, естественно, там не нужно вот такую внутрянку давать им.

Ну, подход к trunk-branch-leaf, да? Ствол, ветви, листья — можно проецировать вот этот мой JSON подход вместо вот этих файликов, например, project_context.md и tree_leaves_agents.md. Выглядит так, что можно какой-то единый роутер сделать. Там, конечно, project_context будет, но вот какой-то типа project_manifest или как-то его называть, там JSON, да? И вот его юзать, и к нему, может быть, тоже привязаться как-то линтерами, проверять что-то, там, что, например, что-то можно проверять.

Ну, а посмотри, ещё я подумал, что хорошо было бы ввести, как сказать, систему тегов — YAML frontmatter в Markdown файлах, чтобы они были структурированы и к ним можно было как-то привязаться. Как-то так.

=2m4s=
Смотри, тут второй вопрос. Я вот сейчас смотрю "Мермейд архитектуры как дерево" и вспомнил, что есть такой подход — репоскан. Я скидывал там репозиторий-пример, типа как вот по каким принципам он разбирается, но, по-моему, там недоволен был до конца результатом.

Я просто могу показать, как на другом проекте всё отсканировано. Грубо говоря, это снимок репозитория. Как знаешь, есть инструменты популярные: DeepWiki, ну типа анализаторы, код-вики, типа у Vglada, DeepWiki у этих, кто делает.

Потом получается, вот эта репоскан от Shotgun, получается там используется CFO, домены, ну в принципе всё как у нас. Просто вот эта идея — что отобразить в едином JSON-файле, который эффективный, там определённое количество токенов есть и как у агентов всегда вот карта такая, да.

Надо, наверное, сделать, оформить это вот как-то таким образом, как ты считаешь? Может быть, даже с концептом, с уровнями Trunk, Branches, Leaves, но я не уверен. Может быть, как лучше ты сам посмотри, подумай. Ну, однозначно, может быть, это отдельный массивчик, там не всё вокруг этого уровня идёт. Я имею в виду отдельный массивчик, вот как там у Reposcan уже хорошо, да, классика, да, а потом ещё сделать, типа, что за что является Trunk, Branch, Leaves там и так далее.

Плюс я ещё высказывал идеи, как я вижу. Вот в задачах там описываются разные детали, типа так. Я вот сейчас, кстати, читаю твои задачи, я по ним отдельные ещё аудио надиктую.

=1m11s=
Я вот еще попутно читаю. Я так понимаю, видишь, как у меня в моем главном манифесте есть индивидуальные мои особенности, чтобы агент знал, какими агентами пользоваться. Но это такой верхнеуровневый советник, а те агенты, которые дуэры, понятно, им эти детали не нужны. Но у них тоже может быть какой-то гид, гидфайл, манифест, да, и так далее. И все эти манифесты они схлопываются, ну, кросс-референс должны быть.

Я услышал у тебя идею по поводу индексов для всего, для тасков и прочее. Эти индексы могут быть как Markdown, так и на самом деле JSON.

Я тебе еще позже скину интересный инструмент, код машин. Я с ним сделал прямо хороший софт, но у него особенность, что ему накидываешь как бы задачи, он их молотит. Ну, правда, я ему накидал глобальную задачу сделать приложение, он делал ее вообще 10 часов. Может быть, если поштучно ему давать задачу, будет легче, я тебе потом об этом расскажу.

Я просто знаю об этом, но, наверное, ничего тут делать не надо. Я дальше читаю таски и даю тебе по ним фидбэк.

=27s=
По поводу еще раз монорепы и вот этой основной репы с кодом, да, OIS-CFA, я даже размышляю над тем, чтобы все-таки агенты запускались прямо не из монорепы, а из той репы. И тогда организовать там тоже свои манифесты, ну как ты уже понял.

Вот, свой репоскан, и тогда, наверное, будет эффективнее. И там свой запуск.

=7m18s=
Еще у меня возникла такая идея. Вот у нас есть продвинутый инструмент CloudCode, у него есть внутри — я тебе скину там отдельный другой отчет L1 Pro, точнее GPT-5 Pro — о том, что этот CloudCode эволюционировал постепенно.

У него сначала были типовые задачи на тему, это команды типа были, да, типа там слэш-команд, и агент просто берет делать. Потом у него была такая история, что были сабагенты у CloudCode, но у Codex их не было. Просто знать об этом, да, я в основном буду, конечно, в Codex запускать, но такая обратная совместимость ничем не помешает и даже все-таки поможет по поводу структурирования ролей. Сейчас я объясню, что я имею в виду.

Так вот, вернусь к CloudCode, и у него раньше было taskTools.agent, где он отдавал как бы будущий основной ран агента, да. Вот, получается, он может сам вызывать еще сабагентов, наделенных тем же контекстом — ну, не тем же контекстом, а тем же размером контекстного окна — которое может на выполнение каких-то делегирования задач. И он их выполнял в каком-то произвольном виде, но потом они добавили папочку Agents.

И ты можешь себе делать там backend-разработчик, evaluator, reviewer и тому подобное. То есть много ролей. И вот как бы один агент заканчивает, второй его артефакты проверяет или воспроизведенный код, там, тесты. Один, не знаю, агент там тесты проверяет. Они могут быть как по типам задач сформированные, так и по ролям, как, знаешь, там backend, архитектор, аудитор, frontend, ну и так далее, да.

Потом, то есть почему не организовать точно так же в папочке .code вот этих агентов, вот эти команды? Потом CloudCode пошел дальше, он сделал хуки. Это типа по каким-то определенным событиям, если какой-то тул вызывает, цеплять что-то дальше или делать какое-то действие скриптовое через хук.

Потом еще CloudCode пошел дальше. Они придумали, что у них было — а, ну MCP и так было, и MCP есть, да. То есть можно в этих у агентов и у команд выдавать, какие они могут типы инструментов использовать, какие могут MCP использовать, tool calls и так далее.

Потом появилась вот эта комбинация команды, агенты, MCP и хуки в виде такого сборки плагина, да. Вот, и написывалась, а потом они еще придумали skills, как работать с документами, docx и там Excel, как работать и так далее, и так далее.

Я вот думаю, что хорошо бы вот эти принципы, идентификацию, как вот делать типовые задачи типовыми ролями, с типовыми какими-то хуками, с типовыми MCP, да. Вот, например, очень часто, как я с тобой и советуюсь, я использую MCP GPT-5 Oracle. То есть это как бы отдельный агент, у которого tool call вот этот Oracle, он наделен какими-то определенными смыслами и будет делать.

Конечно, этот агент не будет, наверное, так использоваться Codex, потому что Codex не поддерживает такие функции. Но CloudCode или другие bash, CLI, SSH и agents, да, могут поддерживать. Можно оставить задел, а для Codex просто прочитай вот этот файлик через собачку и как бы вот следуй вот этому. То есть и для порядка, то есть будут все вот эти папочки.

Это не то, что замена всему предыдущему, что мы говорим. Это вообще просто лишь дополнение моего предложения, да. Как использовать вот этот стандартный функционал, где мы описываем вот эти все там роли агентов. И в голове у нас будет полезно, какие у нас типовые задачи. Вот у нас есть задача номер NX01, NX02, NX03, NX001 и так далее. И можно вот для вот этой задачи нужны вот такие-то вот такие-то там агенты.

Не знаю, будет ли это усложнением или нет, но такой паттерн тоже бы стоило обсудить. Тут есть некоторое, как сказать, не противоречие, а вопрос и дискуссия.

Есть еще отдельный инструмент CloudMachine, который вообще классно делает свою работу. Единожды ты скормил ему доки, он проанализировал все глубоко, выдал у тебя какие-то дополнения, вопросы, противоречия. Ты ему ответил, и дальше он молотит несколько часов. Он там сам организовывает всех сам агентов, все как нужно. Это я тебе тоже отдельно покажу.

То есть прямо я тут много затрагиваю разных вопросов. Мне нужно еще собрать тебе контекст, чтобы ты качественно и грамотно на него ответил на эти все вопросы.

То есть, итого, подытожим. Мне нужно собрать для тебя репосказанный контекст, собрать по поводу CloudCode функции организации в папочке .code и собрать CloudMachine контекст, чтобы ты понял, о чем там основные направления, такие нарративы инструментов.

То есть репосказанный ничего не исключает. А вот использование CloudCode вот этих sub-agents или CloudMachine, они как будто друг друга перекрывают. Но это, наверное, хуже не будет, если мы хотя бы просто для себя структурируем в папочке .code вот это вот все через agents, плагины и так далее.

Будем ли мы это группировать по доменам, по микросервисам, по, не знаю, там, Kafka-специалистам, или, может быть, там, ну, какие у нас там технологии, Fabric-специалист, да, вокруг него там какие-то моменты. У нас же и домены, и сервисы, и технологии есть.

А вот этот CloudMachine выглядит так, что работает офигенно, и оркестрировать пошагово агентов просто, во-первых, непросто и сложно. И самый, наверное, life-changing и killer tool — это CloudMachine.

Единственное, когда я имел опыт с ним, когда он делал мне какие-то задачи, я ему давал очень верхние уровни, он делал большой PRD, и он делал по PRD-документам. Мне нужно, наверное, сделать отдельный дополнительный ресерч на тему, можно ли, если в GitHub issues там такие упоминания, использовать его поштучно-позадачно.

Вот как мой подход — это позадачно двигаться. То есть одна задача, вторая, третья, и там сверять. И чтобы он не over-engineer, а делал только то, что нужно, и не делал это 7 часов. Естественно, эту задачу там с агентом в ручках сделать, ну типа там, не знаю, до часа, а тут он будет что-то делать 7 часов, и эти over-engineer и прочее.

То есть вот его контроль и маленькие кусочки, вот это надо, короче, разобраться. То есть все проанализировать, я прикину контекст по нему и дам.