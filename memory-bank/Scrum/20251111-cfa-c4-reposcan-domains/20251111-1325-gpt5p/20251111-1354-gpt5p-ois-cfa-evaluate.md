## TL;DR

* **OIS‑CFA (a.ozherelev):** живая база — есть код, CI/Helm для Fabric chaincode, .NET‑сервисы с тестами, UI‑кит, прописаны NFR/SLA; слабое место — dev‑only обвязки вокруг Fabric и неполная топология сети.      
* **Идея оценки (20251004 + 2025W44):** структура проработана (flows/контуры/комплаенс), но **цифры оптимистичны** и **стек размыт**: в артефактах одновременно «Fabric+Go chaincode» и «Solidity/Web3», а также след «Node‑biased» при пожелании перейти на .NET.    
* **Вердикт:** базу OIS‑CFA можно брать в основу; оценку — пересчитать capacity‑driven (команда×скорость×риски), зафиксировав единый стек и внешние зависимости.

---

## Steps (что делать сейчас)

1. **Зафиксировать целевой стек.** Формально обновить ADR: Fabric + **Go chaincode** ИЛИ Ethereum‑совместимый путь (Solidity). Сейчас в одних документах Go/Fabric, в других — Solidity/Web3 — это конфликт.  
2. **Убрать dev‑only прослойки.** chaincode‑API на netcat/python заменить на нормальный сервис/SDK + gRPC/REST с auth, audit, idempotency. 
3. **Собрать единый WBS и пересчитать 560h.** Разложить MVP по доменам (Identity/KYC, Tokenization, Ledger, Settlement, Bank, Backoffice), назначить исполнителей, ввести risk‑buffer. Сейчас цифра 560ч заявлена без явной модели команды.  
4. **Задать измеряемые NFR и тест‑контуры.** Протоколировать p95/throughput с k6 и e2e (Playwright), включить quality‑gates в CI.  
5. **Закрыть регуляторку и backup/DR.** Требования (259‑ФЗ/746‑П/57580) и RTO/RPO уже перечислены — привязать к контрольным процедурам и чек‑листам при релизе. 
6. **Уточнить внешние интеграции.** Банк/ЕСИА/УЦ — сейчас отмечены как mock/placeholder; без этого оценка «плавает». 

---

## Сравнение (критерии × источники)

| Критерий (≤6)  | **OIS‑CFA (repo)**                                                    | **Estimation 20251004**              | **2025W44‑artefacts**                             |
| -------------- | --------------------------------------------------------------------- | ------------------------------------ | ------------------------------------------------- |
| Scope & домены | Частично, по коду и ops                                               | Хорошо (уровни/контуры)              | Хорошо (C4, research)                             |
| Архитектура    | Fabric CI/Helm, сервисы, ADR частично                                 | Референс‑архитектура и потоки        | ADR/диаграммы, но есть конфликт стеков            |
| Код & тесты    | .NET unit‑тесты, UI‑кит, e2e/load скелеты                             | Нет кода — только описание           | Диаграммы/исследования (без кода)                 |
| DevOps         | Helm‑джобы для chaincode, quality‑gates прописаны; есть dev‑only зоны | Высокоуровневый деплой/контуры       | План/ADR без конкретики по pipeline               |
| NFR/Compliance | SLA/SLO, DR/backup, мониторинг описаны                                | Требования перечислены текстом       | Есть цели/дорожная карта, без проверок            |
| Оценка/реализм | Нет общей оценки (и это плюс)                                         | Структура ок, но без состава команды | 560ч/3.5мес — оптимистично, зависит от интеграций |

---

## Комментарии по каждому источнику (по делу)

**1) OIS‑CFA (a.ozherelev).**

* Реальные артефакты: Helm‑pipeline для chaincode (approve/install/rollback), что редкость для Fabric на пресейле.  
* Код и практики: .NET IssuanceService с unit‑тестами (FluentAssertions/Moq), UI‑кит в TS/React, e2e/load‑тестовые заготовки, quality‑gates и environment‑политики в CI.    
* NFR/операционка: SLA/SLO, RTO/RPO, backup/DR и регуляторка заданы. 
  − Узкие места: dev‑only HTTP wrapper вокруг peer CLI (нет безопасного сервиса), не зафиксирована целевая топология сети Fabric.  

**2) Estimation 20251004 (аутсорс).**

* Хорошая структурная «рамка»: уровни, потоки (эмиссия, DvP, выплаты), контуры, регуляторные ориентиры. 
  − Нет привязки к capacity/команде, рисковому буферу и acceptance‑критериям — цифры непроверяемы.

**3) 2025W44‑artefacts (bias by estimation, reviewed by AlexA).**

* Сильные артефакты: C4‑диаграммы, ADR (в т.ч. выбор Fabric), конкурентный срез для калибровки фич.   
  − Несогласованности: одновременно «Go chaincode на Fabric» и «Solidity/Web3» в компонентах Tokenization; плюс замечание «.NET хотим, но оставляю Node‑draft». Это надо вычистить перед любыми оценками.  
  − Оценка 560ч/3.5мес — ок как нижняя планка, **но** интеграции (банк, ЕСИА, УЦ) и Fabric‑сеть легко удвоят трудоёмкость без готовых адаптеров. 

---

## Checklist — выровнять оценку и убрать биас

* [ ] **Единый стек/ADR** (Fabric+Go *или* EVM+Solidity) — обновить все диаграммы/тексты.  
* [ ] **Заменить dev‑only chaincode API** на сервис с аутентификацией, audit trail, idempotency. 
* [ ] **Capacity‑based план**: состав команды, velocity, risk‑buffer ≥25%, критерии готовности на домен. 
* [ ] **Тест‑метрики**: k6 (critical paths), e2e, quality‑gates в CI — enforce.  
* [ ] **Fabric‑сеть**: описать топологию/секреты/каталоги MSP, процедуры обновления/отката в Helm.  
* [ ] **Интеграции**: банк/ЕСИА/УЦ — вывести из mock в PoC‑адаптеры с контрактами и SLA. 

---

## Процесс валидации оценки (mermaid)

```mermaid
flowchart TD
  A[Freeze ADR & Stack] --> B[WBS по доменам]
  B --> C[Capacity model (team×velocity)]
  C --> D[Risk buffer & внешние зависимости]
  D --> E[QoS targets & тест‑план]
  E --> F[PoC интеграций (банк/ЕСИА/УЦ)]
  F --> G[Обновлённая смета (range P50/P80)]
```

---

## Next actions

1. Созваниваемся на 45 мин: финализируем стек (Fabric/Go vs EVM/Solidity) и роль .NET для доменов — потом я обновляю ADR/диаграммы и вычищаю конфликтующие места.   
2. Делаю **WBS + capacity‑оценку** на базе ваших текущих людей (2 сценария: «минимальный костяк» и «ускорение»). Опора на артефакты 2025W44.  
3. Параллельно — **замена dev‑only API** и минимальный **PoC банка**: одна операция блокировки/списания, одна — возврата, с аудитом. 
4. Включаю **k6/e2e контуры** в CI на критические пути (issue→DvP→payout) и проверяю соответствие заявленным SLO.  

Если нужен, подготовлю короткий **delta‑пакет**: перечень расхождений по стеку/диаграммам и обновлённую смету (P50/P80) — без «воды», по пунктам.
