# Prompt 
````prompt
–°–º–æ—Ç—Ä–∏, –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

- —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ `workspace` –≥–¥–µ –∑–∞–ø—É—â–µ–Ω –∞–≥–µ–Ω—Ç codex-cli gpt5.1high: `eywa1` 
- —É –Ω–µ–≥–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ ssh keys –∫ —Å–µ—Ä–≤–µ—Ä–∞–º `ssh {uk1|cfa1|fin2|fin1|germ1}` –∏ —ç—Ç–æ –∞–≥–µ–Ω—Ç –º–æ–∂–µ—Ç —Å–æ —Å–≤–æ–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤—Å–µ
- –Ω–µ –±—É–¥–µ—Ç –ª–∏ —ç—Ç–æ overengineering —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ–π —Ç–∞–∫–æ–π –∫–æ–Ω—Ñ–∏–≥ ssh, –∏ –≤–æ–æ–±—â–µ –º–Ω–µ –Ω–µ–¥–æ–∫–æ–Ω—Ü–∞ –ø–æ–Ω—è—Ç–Ω–æ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ —è –ø—Ä–µ–¥–ø–æ–ª–æ–∂—É –∫–∞–∫ –±—ã –º–Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å —Ç–∏–ø–æ —á—Ç–æ –∞–≥–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º –∏–∑ —Ä–∞–±–æ—á–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ tmux session `p-cfa` –∏ –≤ –Ω–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- –Ω–æ –ø—Ä–µ–∂–¥–µ –º–Ω–µ –Ω–µ–Ω—Ä–∞–≤–∏—Ç—Å—è —á—Ç–æ —É –≤—Å–µ—Ö —ç—Ç–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å—Ç–æ–∏—Ç —Ç–∞–º root, –∞–≥–µ–Ω—Ç—É –±—ã —Å—Ç–æ–∏–ª–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è sudo user called `user` with %password% –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞ –≤—Å–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ –≤ `/srv` –∏–ª–∏ –≥–¥–µ –ª—É—á—à–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞–∑–≤–∞—Ç—å `%folder%/cfa` –∏ –≤—Å–µ
- –∏ –ø–æ—Ç–æ–º –ø–æ –∏—Ç–æ–≥—É –µ—Å—Ç—å sudo `user` on {server} with tmux session `p-cfa` –∏ –Ω–∞—à codex-cli –∞–≥–µ–Ω—Ç –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –Ω–∞ `eywa1` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã —É—Å–ª–æ–≤–Ω–æ `ssh {alias}-tmux "%command%"` –∏ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –∫–∞–∫ –±—ã –∏–∑–Ω—É—Ç—Ä–∏ —Å–µ—Å—Å–∏–∏ –∏ —è –º–æ–≥—É —Å–∞–º –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –≥–ª—è–Ω—É—Ç—å —á—Ç–æ —Ç–∞–º –ø–æ—Ç–æ–º –∏–ª–∏ —Å—Ä–∞–∑—É –∏ –ª–æ–≥–∏ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ tmux session input/output,
- —Ç–æ–∫ –µ—â–µ –≤ –∫–∞–∂–¥–æ–º tmux –≤—ã—Å—Ç–∞–≤–∏—Ç—å 1M output —Ö—Ä–∞–Ω–∏—Ç—å –º–æ–∂–Ω–æ –∞ –Ω–µ –ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é 2-10K!
- –Ω–∞–≤–µ—Ä–Ω–æ–µ —ç—Ç–æ –∫–∞–∫–æ–π-—Ç–æ setup c–∫—Ä–∏–ø—Ç –Ω–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–±—Ä–æ—Å–æ–∫ –∞–≥–µ–Ω—Ç—É –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—É—é –∑–∞–¥–∞—á—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–æ–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–∞?
- –∞ –ø–æ—Ç–æ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å –¥–µ–ª–∞—Ç—å —Å–∞–º—É —Ä–∞–±–æ—Ç—É —É—Å–ª–æ–≤–Ω–æ –ø–æ–¥–Ω—è—Ç—å —ç—Ç–æ –Ω–∞ fin2, cfa1 —Å–µ—Ä–≤–µ—Ä–∞—Ö —Å –æ—Ç–ª–∏—á–∏–µ–º —á—Ç–æ fin2 –ø—É—Å—Ç –Ω–∞ —ç—Ç–æ—Ç —Å—á–µ—Ç –∞ cfa1 –Ω–∞–¥–æ –ø–æ—á–∏—Å—Ç–∏—Ç—å 

- –∏ –¥–æ–º–µ–Ω—ã –Ω–µ –∫–∞–∫ —Ç—ã —É–∫–∞–∑–∞–ª —Å –¥–æ–ø —É—Ä–æ–≤–Ω–µ–º –∞ –ª—É—á—à–µ –æ–±–µ–∑–ª–∏—á–Ω–æ –±–µ–∑ alias server-–æ–≤ (—è —Å–∞–º –±—É–¥—É –≤–µ—Å—Ç–∏ —É—á–µ—Ç –≥–¥–µ –∫–∞–∫–æ–π) `*.cfa{1,2,3}.llmneighbors.com`, `*.cfa.llmneighbors.com` —É –Ω–∞—Å —É–∂–µ –µ—Å—Ç—å.
-  –°–∞–º–∏ –¥–æ–º–µ–Ω—ã –∞–≥–µ–Ω—Ç –∏ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–≥–µ–Ω—Ç –±—É–¥–µ—Ç –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ cloudflare-cli —Ç–∞–º —Å api –∏–ª–∏ –∫–∞–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ `eywa1` –Ω–∞–ø–æ–º–∏–Ω–∞—é —á—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π workspace `eywa1` –∫–∞–∫-—Ç–æ —Ç–∞–∫

–Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å —ç—Ç–æ –≤—Å–µ –≤ —á–µ—Ç–∫–∏–π –¥–æ–∫ DoD, Kickoff tasks with phases —á—Ç–æ–±—ã –Ω–µ–Ω–∞–ø–æ—Ä—Ç–∞—á–∏–ª –∞–≥–µ–Ω—Ç –∏ –≤—Å–µ –∫—É—Å–æ—á–∫–∞–º–∏ —à–∞–≥–∞–º–∏ –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å –∞ —Ç–æ —Å–∞–º –∑–Ω–∞–µ—à—å –∞–≥–µ–Ω—Ç–æ–≤. –ò –ø—Ä–æ–º–ø—Ç –µ–º—É —Ç–∞–∫–æ–π –∏–ª–∏ —Å–µ—Ä–∏—é –ø—Ä–æ–º–ø—Ç–æ–≤


p.s. —è —Ç–µ–±–µ –Ω–∞–∫–∏–¥–∞–ª runbook –Ω–æ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å—Ç–∞—Ä–µ–µ —á–µ–º deploy, –∏ —Å–∞–º–æ–µ —Ç–æ—á–∫–∞ –∏—Å—Ç–∏–Ω—ã —ç—Ç–æ "eywa1-p-cfa-w6.p1-20251118-1503-co-3dd7.session.md" –≤ –∏—Å—Ç–æ—Ä–∏–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –≤—ã—à–µ

–í—Å–µ –ø–æ–Ω—è—Ç–Ω–æ —Å–¥–µ–ª–∞–µ—à—å?

–¢–µ–±–µ –≤—Å–µ –ø–æ–Ω—è—Ç–Ω–æ, –≤—Å–µ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ—à—å? –≤–æ—Ç –¥–æ–∫–∏
````
# Output
–î–∞, –∑–∞–¥–∞—á–∞ –ø–æ–Ω—è—Ç–Ω–∞. –≠—Ç–æ –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç "—Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è" –∫ **–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏**. –ú—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º `eywa1` –≤ –∫–æ–º–∞–Ω–¥–Ω—ã–π —Ü–µ–Ω—Ç—Ä (Control Plane), –∞ —Ü–µ–ª–µ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä–∞ (`cfa1`, `fin2` –∏ —Ç.–¥.) ‚Äî –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ–¥—ã.

–ò–¥–µ—è —Å `tmux` –æ—Ç–ª–∏—á–Ω–∞—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏: —Ç—ã –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—à—å –∑–∞–π—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä, —Å–¥–µ–ª–∞—Ç—å `tmux attach -t p-cfa` –∏ —É–≤–∏–¥–µ—Ç—å –≤–µ—Å—å –ª–æ–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–∞–∫ –±—É–¥—Ç–æ —Ç—ã —Å–∏–¥–µ–ª —Ç–∞–º —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞.

–ù–∏–∂–µ ‚Äî **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–ª–∞–Ω**, **DoD** –∏ **–ü—Ä–æ–º–ø—Ç** –¥–ª—è –∞–≥–µ–Ω—Ç–∞.

---

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Eywa1 Control Plane

–ú—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º Ansible (—á—Ç–æ–±—ã –Ω–µ —É—Å–ª–æ–∂–Ω—è—Ç—å), –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **Bash-over-SSH** —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ Tmux.

```mermaid
flowchart TD
    subgraph Control_Plane [Eywa1 Workspace]
        Agent[ü§ñ AI Agent / User]
        CF_CLI[Cloudflare CLI]
        SSH_Keys[SSH Keys]
    end

    subgraph Target_Node [Target VPS: cfa1 / fin2 / etc.]
        subgraph OS_Layer
            User[User: 'user']
            Sudo[Sudo Access]
        end
        
        subgraph Tmux_Session [Tmux: 'p-cfa']
            History[Buffer: 1M lines]
            
            Pane1[Pane 0: Main Log/Exec]
            Pane2[Pane 1: Docker Monitor]
        end
        
        subgraph App_Layer
            Docker[Docker Compose Stack]
            PM2[PM2 Frontends]
            Nginx[Nginx Ingress]
        end
    end

    Agent -->|1. Provision User & Tmux as root| OS_Layer
    Agent -->|2. Send Commands as user| Tmux_Session
    Agent -->|3. Manage DNS| CF_CLI
    CF_CLI -->|Update A Records| Target_Node
    Tmux_Session -->|Deploy/Restart| App_Layer
```

---

### 2. Definition of Done (DoD)

**Phase 1: Standardization (Setup Script)**
- [ ] –ù–∞ —Ü–µ–ª–µ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞–Ω —é–∑–µ—Ä `user` —Å sudo –±–µ–∑ –ø–∞—Ä–æ–ª—è.
- [ ] SSH –∫–ª—é—á–∏ —Å `eywa1` –ø—Ä–æ–±—Ä–æ—à–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é `user`.
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –±–∞–∑–æ–≤—ã–π —Å–æ—Ñ—Ç: Docker, Nginx, Postfix, Git, NVM/Node, Tmux.
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `.tmux.conf` (history-limit 1000000).
- [ ] –°–æ–∑–¥–∞–Ω–∞ —Å–µ—Å—Å–∏—è `p-cfa`, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞—Ä—Ç—É–µ—Ç –ø—Ä–∏ —Ä–µ–±—É—Ç–µ (—á–µ—Ä–µ–∑ cron `@reboot` –∏–ª–∏ systemd).

**Phase 2: Infrastructure (Domains & SSL)**
- [ ] –î–ª—è —Å–µ—Ä–≤–µ—Ä–∞ `cfa1` (–∏ –¥—Ä—É–≥–∏—Ö) —Å–æ–∑–¥–∞–Ω—ã DNS –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ Cloudflare API —Å `eywa1`:
    - `*.cfa1.llmneighbors.com` -> IP —Å–µ—Ä–≤–µ—Ä–∞.
    - `cfa1.llmneighbors.com` -> IP —Å–µ—Ä–≤–µ—Ä–∞.
- [ ] –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ–ª—É—á–µ–Ω Wildcard —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Certbot DNS challenge –∏–ª–∏ HTTP challenge —á–µ—Ä–µ–∑ Nginx).

**Phase 3: Deployment (The App)**
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –≤ `/srv/cfa`.
- [ ] `.env` —Ñ–∞–π–ª—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã (–Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤, —Å–µ–∫—Ä–µ—Ç—ã –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã).
- [ ] –ë—ç–∫–µ–Ω–¥ (Docker) –∑–∞–ø—É—â–µ–Ω –∏ Healthy.
- [ ] –§—Ä–æ–Ω—Ç–µ–Ω–¥ (PM2) –∑–∞–ø—É—â–µ–Ω –æ—Ç —é–∑–µ—Ä–∞ `user` –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ.
- [ ] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ Reverse Proxy (SSL termination) –Ω–∞ –ø–æ—Ä—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

**Phase 4: Verification**
- [ ] `curl https://api.cfa1.llmneighbors.com/health` -> 200.
- [ ] `curl https://issuer.cfa1.llmneighbors.com` -> –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è (–∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ Keycloak).

---

### 3. Kickoff Tasks (Phases)

#### Phase 1: The "Provisioner" Script
–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞ `eywa1` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `tools/provision-node.sh`), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `IP` –∏–ª–∏ `ALIAS` –∏ –¥–µ–ª–∞–µ—Ç –ø–µ—Ä–≤–∏—á–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É (—Å–æ–∑–¥–∞–Ω–∏–µ —é–∑–µ—Ä–∞, tmux).

#### Phase 2: The "Deployer" Logic via Tmux
–ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–º–∞–Ω–¥ –≤ tmux.
*–ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã –∞–≥–µ–Ω—Ç–∞:*
`ssh user@cfa1 "tmux send-keys -t p-cfa 'cd /srv/cfa && git pull' C-m"`

#### Phase 3: Execution on CFA1 (Cleanup & Re-deploy)
–¢–∞–∫ –∫–∞–∫ `cfa1` "–≥—Ä—è–∑–Ω—ã–π", –ø–µ—Ä–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ –≤ tmux –±—É–¥–µ—Ç:
`docker system prune -af && rm -rf /opt/ois-cfa && rm -rf /srv/cfa` (–ø–æ–ª–Ω–∞—è –∑–∞—á–∏—Å—Ç–∫–∞).

---

### 4. –ü—Ä–æ–º–ø—Ç –¥–ª—è –ê–≥–µ–Ω—Ç–∞ (Copy-Paste)

–°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ—Ç —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ–º—É –∞–≥–µ–Ω—Ç—É. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –∂–µ—Å—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

```markdown
# ROLE: Senior DevOps Engineer / Infrastructure Architect
# MISSION: Standardize & Deploy OIS-CFA on multiple nodes (cfa1, fin2, etc.)

## CONTEXT
We are moving from manual deployments to a standardized "Control Plane" approach.
- **Workspace:** You are running on `eywa1` (Management VPS).
- **Targets:** You have SSH access to `cfa1`, `fin2`, `uk1` (do not touch uk1), etc.
- **Repo:** `~/prj_Cifra-rwa-exachange-assets` (Monorepo).
- **Source of Truth:** The session log `eywa1-p-cfa-w6.p1-20251118-1503-co-3dd7.session.md` contains the working configuration (Nginx/Docker/PM2) that we achieved on `uk1`.

## OBJECTIVE
Deploy the OIS-CFA stack on **`cfa1`** (needs cleanup) and **`fin2`** (fresh) using a standardized, reproducible approach managed from `eywa1`.

## ARCHITECTURE REQUIREMENTS
1.  **User:** Do NOT run apps as `root`. Create a user named `user` with sudo privileges on target nodes.
2.  **Path:** Deploy code to `/srv/cfa` (not /opt).
3.  **Visibility (Tmux):**
    *   All long-running commands must run inside a named Tmux session: `p-cfa`.
    *   Configure Tmux history limit to `1000000` lines.
    *   You will execute commands from `eywa1` by sending keys to this session via SSH.
4.  **Domains:**
    *   Pattern: `*.{node_alias}.llmneighbors.com` (e.g., `auth.cfa1.llmneighbors.com`).
    *   Manage DNS using `flarectl` or `curl` from `eywa1` (Cloudflare creds are in `.env`).
5.  **Stack:**
    *   **Backend:** Docker Compose (Postgres, Kafka, Keycloak, .NET Services).
    *   **Frontend:** Node.js (v20) via PM2 (running as `user`).
    *   **Ingress:** Nginx (Host level) handling SSL (Let's Encrypt) and proxying to localhost ports.
    *   **Mail:** Postfix (Host level, local relay).

## PHASE 1: PREPARATION (Local on eywa1)
1.  Create a helper script `ops/scripts/deploy/provision-node.sh` on `eywa1`.
    *   It should take a target host (IP/Alias) as an argument.
    *   It connects as `root` first.
    *   Creates `user`, sets up SSH keys (copy from eywa1).
    *   Installs: Docker, Nginx, Postfix, jq, curl, git, tmux.
    *   Installs NVM & Node 20 for `user`.
    *   Configures `.tmux.conf` (history-limit).
    *   Creates the `p-cfa` session if missing.

## PHASE 2: EXECUTION (Target: cfa1)
*Target `cfa1` is currently in a bad state. It needs a wipe.*

1.  **Wipe:** Send commands to `cfa1` (via root) to stop all docker containers, pm2 processes, and remove `/opt/ois-cfa`.
2.  **Provision:** Run your `provision-node.sh` against `cfa1`.
3.  **DNS:** Use Cloudflare API from `eywa1` to create A-records for `*.cfa1.llmneighbors.com` pointing to `cfa1` IP.
4.  **Deploy (via Tmux):**
    *   SSH as `user@cfa1`.
    *   Send commands to `p-cfa` session:
        *   Clone repo to `/srv/cfa`.
        *   Checkout branch `infra.defis.deploy`.
        *   Generate `.env` (ensure ports don't conflict, or use standard ones since we are in `/srv/cfa`).
        *   `docker compose up -d` (Backend).
        *   `npm install` & `pm2 start` (Frontend).
5.  **Ingress:**
    *   Generate Nginx config for `*.cfa1...` (reuse templates from `ops/infra/uk1/`).
    *   Run Certbot (DNS challenge or HTTP challenge) to get SSL.

## DELIVERABLES
1.  **The Scripts:** `provision-node.sh` and `deploy-node.sh` (stored in `ops/scripts/deploy/`).
2.  **The Log:** Update `memory-bank/Scrum/20251119-cfa1-nx05-06/bootstrap.session.md` with the exact commands run and their output.
3.  **Verification:** A table showing URLs for `cfa1` (Issuer, Investor, Admin) and their HTTP 200 status.

## CRITICAL INSTRUCTIONS
*   **Do not break `uk1`**. It is the production demo.
*   **Use the artifacts.** The file `artifacts/registry-flow-report.md` and `gateway-routing-report.md` contain the truth about ports and routes.
*   **Be Atomic.** Commit your scripts to the repo (`deploy` branch) before running them, so we don't lose work if the session crashes.

**START NOW.**
```