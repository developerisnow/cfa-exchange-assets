{
  "id": "workflow",
  "description": "Workplace, orchestration, tools, and operational workflow for AI-assisted development and research.",
  "meta": {
    "version": "1.1.1",
    "updated": "2025-11-17T15:12:00+03:00",
    "edited_by": ["co-76ca", "co-3c63"]
  },
  "workplaces": {
    "servers": [
      {
        "id": "eywa1",
        "aliases": ["AVA1"],
        "os": "Ubuntu",
        "role": ["primary-workhorse", "agent-orchestration"],
        "auth": ["password-protected Web GUI", "SSH"],
        "notes": "Main remote machine. Hosts Vibe‑Kanban; used predominantly over TUI/Web GUI. Codex and Claude Code authorizations installed."
      },
      {
        "id": "CFA1",
        "aliases": [],
        "os": "Ubuntu",
        "role": ["demo-hosting"],
        "notes": "Used for spinning demos (Velvet Node.js exchange, .NET services)."
      },
      {
        "id": "macOS-local",
        "aliases": ["macbook-pro"],
        "os": "macOS",
        "role": ["initial-sessions"],
        "notes": "Early work with CLI agents and web UIs. ~8–15 sessions."
      }
    ],
    "orchestrator": {
      "name": "Vibe-Kanban",
      "aka": ["Vibe Diffuse Kanban"],
      "type": "TUI",
      "interfaces": ["TUI", "Web GUI"],
      "access": "password-protected",
      "behavior": {
        "session_model": "each step = new session",
        "session_volume": "tens to hundreds per task",
        "persistence": "do not mirror all raw sessions into repo; index only high-signal artefacts"
      },
      "agents": ["Claude Code", "Codex", "Gemini", "Opencode", "Qwen_Code", "AMP", "COPILOT", "Cursor_Agent"],
      "notes": "Primary interface for coding agents; accessed even from mobile."
    }
  },
  "tools": {
    "providers": ["OpenAI", "Google", "Anthropic", "Perplexity"],
    "wrappers": [
      { "name": "Claude Code", "kind": "coding-agent", "aliases": ["Cline"] },
      { "name": "Codex CLI", "kind": "coding-agent" },
      { "name": "Gemini CLI", "kind": "coding-agent", "status": "testing", "aliases": ["GeminiCli"] },
      { "name": "Droid", "kind": "coding-agent", "status": "testing" },
      { "name": "Opencode", "kind": "coding-agent", "status": "testing" },
      { "name": "Crush", "kind": "coding-agent", "status": "testing" },
      { "name": "JustCode", "kind": "coding-agent", "status": "testing" }
    ],
    "deep_research": [
      { "name": "chatgpt.com", "use": "deepresearch" },
      { "name": "claude.ai", "use": "deepresearch" },
      { "name": "gemini.google.com", "use": "deepresearch" },
      { "name": "perplexity.ai", "use": "deepresearch" },
      { "name": "parallel.ai", "use": "deepresearch" }
    ],
    "cli": [
      { "name": "Claude CLI", "use": "coding + analysis" },
      { "name": "Codex CLI", "use": "coding + analysis" },
      { "name": "Gemini CLI", "use": "coding + analysis" }
    ],
    "assistants": [
      { "name": "AI Studio", "role": "evaluator/teacher/buddy", "context_window": "~1M tokens", "use": "large-context analysis" }
    ]
  },
  "dev_practices": {
    "tmux": {
      "policy": "Create dedicated tmux session per project; organize by tabs for tools and tasks",
      "naming": {
        "session": "p-<project>-<optional-session-name>",
        "windows": ["code", "agents", "logs", "services"],
        "example": "p-cfa",
        "legacy_pattern": "<project>-<env>-<date>",
        "legacy_example": "cfa-main-20251110"
      }
    },
    "session_storage": {
      "raw": "kept in orchestrator/runtime; not all checked-in",
      "indexing": "link only essential artefacts into memory-bank with YYYYMMDD-HHMM prefix",
      "retention": {
        "orchestrator_sessions": "rotate by age/volume; keep high-signal references",
        "memory_bank": "immutable timestamps; edits append-only with version bump"
      }
    },
    "manifests": {
      "role": "SSOT for agents; indices drive navigation",
      "update_cadence": "incremental, checksum-updated"
    }
  },
  "git_flow": {
    "branches": {
      "main": {
        "role": "release",
        "notes": "Stable branch for demos and tagged releases."
      },
      "develop": {
        "role": "integration",
        "deploys_to": ["dev", "pre-prod"],
        "notes": "Target branch for feature merges; auto-deployed to dev/pre-prod environments."
      },
      "tasks": {
        "role": "backlog-md",
        "notes": "Markdown tasks with full context and DoD for agents; feature branches are cut from here or from develop depending on task."
      }
    },
    "practices": [
      "Each task is described in a .md file (with context, DoD, and links) under the tasks branch or directory.",
      "For each task, create a dedicated feature branch derived from develop (or from the indicated base branch).",
      "Feature branches must be covered by tests and basic linting before opening a merge request.",
      "Merge to develop only via Merge Request with review and passing CI.",
      "Develop is the only branch auto-deployed to dev/pre-prod; main is updated from develop after release review."
    ],
    "agent_integration": {
      "roles": [
        "Claude Code / Codex CLI / Gemini CLI act as coding agents working inside feature branches.",
        "Agents must respect AGENTS.md: no direct pushes to main/develop, only MR-based changes.",
        "Agent-produced work is always reviewed and, when needed, edited by a human owner before merge."
      ]
    }
  },
  "git_policy": {
    "structure": ["monorepo", "submodules"],
    "zones": [
      { "id": "most-private", "audience": "owner-only" },
      { "id": "pet-projects-teammates", "audience": "teammates" },
      { "id": "customer-devs", "audience": "customer-engineering" },
      { "id": "customer", "audience": "customer" }
    ],
    "remotes": {
      "origin": "Customer GitLab (authoritative for customer)",
      "monorepo": "DeveloperIsNow monorepo mirror (owner’s SSOT)",
      "webfree-stealth": "Third-party service access; limited, purpose-bound"
    },
    "notes": "Repositories may have multiple remotes configured; origin points to customer GitLab, additional mirrors used for owner workflows and third-party service integrations."
  }
}
